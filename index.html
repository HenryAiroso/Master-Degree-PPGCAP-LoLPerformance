<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>LoL Performance AI - Research Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- LIBRARIES -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.3.2/pixi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Rajdhani:wght@600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* =========================================
         CORE STYLE (Industrial Retro - Baseado na Arte)
         ========================================= */
      :root {
        --bg-dark: #05070a;
        --text-main: #dcdacb;
        --accent-green: #44d65c;
        --accent-gold: #ffcd75;
        --accent-red: #e53b44;
        --metal-dark: #1a1c2c;
        --metal-light: #5d6d7e;
        --ui-shadow: 6px 6px 0 rgba(0,0,0,0.7);
      }

      * { box-sizing: border-box; }

      body {
        margin: 0;
        padding: 0;
        background-color: var(--bg-dark);
        font-family: "Press Start 2P", cursive;
        color: var(--text-main);
        overflow: hidden;
        height: 100vh;
        width: 100vw;
      }

      /* CAMADAS VISUAIS */
      .layer-bg {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        /* CAMINHO DA IMAGEM - Certifique-se que assets/lab-base.jpg existe */
        background: #111 url('assets/lab-base.jpg') no-repeat center bottom;
        background-size: cover;
        image-rendering: pixelated;
        z-index: 0;
      }

      /* PixiJS Canvas (Robôs e Atmosfera) */
      #game-stage {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        z-index: 1;
        pointer-events: none;
      }

      /* UI Container */
      #ui-layer {
        position: relative;
        z-index: 10;
        width: 100%;
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-between;
        padding: 20px;
        pointer-events: none;
      }

      .interactive { pointer-events: auto; }

      /* =========================================
         UI COMPONENTS (Design Industrial)
         ========================================= */
      
      /* 1. Header (Placa Pendurada) */
      .sign-container {
        margin-top: 15px;
        animation: floatSign 6s ease-in-out infinite;
        position: relative;
      }
      
      /* Cordas físicas segurando a placa */
      .sign-container::before, .sign-container::after {
        content: "";
        position: absolute;
        top: -100vh;
        width: 4px;
        height: 100vh;
        background: #1a1c2c;
        border-left: 2px solid #000;
        z-index: -1;
      }
      .sign-container::before { left: 20px; transform: rotate(1deg); }
      .sign-container::after { right: 20px; transform: rotate(-1deg); }

      .sign-board {
        background: #b56c45; /* Ferrugem */
        border: 4px solid #1a1c2c; /* Metal Escuro */
        padding: 12px 25px;
        box-shadow: var(--ui-shadow);
        text-align: center;
        position: relative;
      }

      /* Parafusos nos cantos */
      .sign-board::before, .sign-board::after {
        content: "+"; color: #333; position: absolute; top: 2px; font-size: 10px;
      }
      .sign-board::before { left: 5px; } .sign-board::after { right: 5px; }

      .sign-title {
        font-size: 1rem;
        color: #fff;
        text-shadow: 3px 3px 0 #1a1c2c;
        margin: 0;
        text-transform: uppercase;
        line-height: 1.4;
      }
      .sign-sub {
        font-size: 0.5rem;
        color: var(--accent-gold);
        display: block;
        margin-top: 4px;
        letter-spacing: 1px;
        background: rgba(0,0,0,0.3);
        padding: 2px 6px;
      }

      /* 2. Monitor Central (CRT) */
      .monitor-wrapper {
        background: var(--metal-dark);
        padding: 8px;
        border-radius: 4px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.8);
        width: 100%;
        max-width: 650px;
        position: relative;
        border: 2px solid #000;
      }
      
      .crt-screen {
        background: #081015; /* Preto azulado */
        border: 2px solid #333;
        height: 200px;
        padding: 20px;
        overflow: hidden;
        position: relative;
        color: var(--accent-green);
        font-size: 0.65rem;
        line-height: 1.6;
        text-shadow: 0 0 4px rgba(68, 214, 92, 0.5);
      }

      /* Scanlines */
      .crt-screen::after {
        content: ""; position: absolute; inset: 0;
        background: repeating-linear-gradient(0deg, rgba(0,0,0,0.2), rgba(0,0,0,0.2) 1px, transparent 1px, transparent 3px);
        pointer-events: none;
      }

      /* 3. Grid de Informações (Pranchetas) */
      .deck-grid {
        display: flex;
        justify-content: center;
        gap: 20px;
        width: 100%;
        max-width: 750px;
      }

      .clipboard {
        background: #dcdacb; /* Papel envelhecido */
        color: #1a1c2c;
        padding: 12px;
        position: relative;
        box-shadow: 5px 5px 0 rgba(0,0,0,0.5);
        border: 2px solid #1a1c2c;
        flex: 1;
      }

      .clipboard::before { /* Clip de metal */
        content: ""; position: absolute; top: -8px; left: 50%; transform: translateX(-50%);
        width: 50px; height: 12px; background: #5d6d7e; border: 2px solid #1a1c2c;
      }

      .clip-title {
        background: #1a1c2c; color: #fff; padding: 5px; text-align: center;
        font-size: 0.55rem; margin-bottom: 10px; text-transform: uppercase;
      }

      .clip-content ul {
        list-style: none; padding: 0; margin: 0;
        font-family: "Rajdhani", sans-serif; 
        font-weight: 700;
        font-size: 0.9rem;
        line-height: 1.4;
      }
      .clip-content li {
        margin-bottom: 5px; padding-left: 14px; position: relative;
      }
      .clip-content li::before {
        content: "►"; color: var(--accent-red); font-size: 0.6rem;
        position: absolute; left: 0; top: 2px;
      }

      /* 4. Rodapé (Caixa de Carga) */
      .cargo-crate {
        background: #3e2b22; /* Madeira escura */
        border: 3px solid #1a1c2c;
        padding: 15px;
        width: 100%; max-width: 650px;
        text-align: center;
        position: relative;
        box-shadow: 0 8px 20px rgba(0,0,0,0.7);
        margin-bottom: 15px;
      }
      
      /* Faixa de Aviso */
      .cargo-crate::after {
        content: ""; position: absolute; bottom: 0; left: 0; width: 100%; height: 6px;
        background: repeating-linear-gradient(-45deg, #ffcd75, #ffcd75 10px, #1a1c2c 10px, #1a1c2c 20px);
      }

      .legal-text {
        font-family: "Rajdhani", sans-serif; font-weight: 600;
        font-size: 0.75rem; color: #a09080; margin-bottom: 10px; line-height: 1.3;
      }

      .btn-pixel {
        display: inline-block; background: var(--accent-gold); color: #000;
        text-decoration: none; padding: 8px 16px; border: 2px solid #000;
        box-shadow: 3px 3px 0 #000; font-size: 0.55rem; text-transform: uppercase; font-weight: bold;
        transition: transform 0.1s;
      }
      .btn-pixel:active { transform: translate(2px, 2px); box-shadow: 1px 1px 0 #000; }
      .cursor { display: inline-block; width: 6px; height: 10px; background: var(--accent-green); animation: blink 1s infinite; vertical-align: middle; }

      @keyframes blink { 50% { opacity: 0; } }
      @keyframes floatSign { 0%, 100% { transform: rotate(-0.5deg) translateY(0); } 50% { transform: rotate(0.5deg) translateY(3px); } }

      @media (max-width: 768px) {
        #ui-layer { height: auto; overflow-y: auto; }
        .deck-grid { flex-direction: column; }
        .monitor-wrapper, .cargo-crate { width: 95%; }
      }
    </style>
  </head>
  <body>

    <!-- 1. FUNDO (CSS HANDLE) -->
    <div class="layer-bg"></div>

    <!-- 2. SIMULAÇÃO (PIXIJS) -->
    <div id="game-stage"></div>

    <!-- 3. INTERFACE -->
    <div id="ui-layer">
      
      <!-- TOPO -->
      <header class="sign-container interactive">
        <div class="sign-board">
          <h1 class="sign-title">LOL PERFORMANCE</h1>
          <span class="sign-sub">AI MASTER'S DISSERTATION</span>
        </div>
      </header>

      <!-- MEIO (MONITOR) -->
      <main class="monitor-wrapper interactive">
        <div class="crt-screen" id="console-output"></div>
      </main>

      <!-- ABAIXO (INFORMAÇÕES) -->
      <section class="deck-grid">
        <article class="clipboard interactive">
          <div class="clip-title">PROJECT GOALS</div>
          <div class="clip-content">
            <ul>
              <li>Collect match-v5 data via API.</li>
              <li>Build structured datasets (Gold/XP).</li>
              <li>Train Deep Learning models.</li>
              <li>Predict Win Probability.</li>
            </ul>
          </div>
        </article>

        <article class="clipboard interactive" style="background: #cfd8dc;">
          <div class="clip-title">TECH STACK</div>
          <div class="clip-content">
            <ul>
              <li><strong>CORE:</strong> Python 3.9+</li>
              <li><strong>ML:</strong> PyTorch & Scikit-Learn</li>
              <li><strong>DATA:</strong> Pandas / NumPy</li>
              <li><strong>ENV:</strong> Jupyter Lab</li>
            </ul>
          </div>
        </article>
      </section>

      <!-- RODAPÉ -->
      <footer class="cargo-crate interactive">
        <p class="legal-text">
          This project isn’t endorsed by Riot Games and doesn’t reflect the views or opinions of Riot Games or anyone officially involved in producing or managing Riot Games properties. Riot Games and all associated properties are trademarks or registered trademarks of Riot Games, Inc.
        </p>
        <a href="https://github.com/HenryAiroso/Master-Degree-PPGCAP-LoLPerformance" target="_blank" class="btn-pixel">
          ACCESS REPOSITORY
        </a>
      </footer>

    </div>

    <script>
      (function() { // IIFE Principal - Escopo isolado
        
        // ============================================
        // ENGINE GRÁFICA (PIXI.JS)
        // ============================================
        
        const app = new PIXI.Application({
          backgroundAlpha: 0, // Fundo transparente
          resizeTo: window,
          antialias: false, // Pixel Art puro
          resolution: window.devicePixelRatio || 1,
        });
        document.getElementById('game-stage').appendChild(app.view);

        const world = new PIXI.Container();
        app.stage.addChild(world);

        // Cores da Paleta da Arte (Extraídas do Dossiê)
        const C_SHADOW = 0x1a1c2c;
        const C_METAL = 0x5d6d7e;
        const C_RUST = 0xb56c45;
        const C_GREEN = 0x44d65c;
        const C_LIGHT = 0xffcd75;
        const C_MONITOR = 0x00f3ff;

        // --- 1. SPRITE GENERATOR AVANÇADO ---
        function createBotTexture(bodyColor, visorColor) {
          const g = new PIXI.Graphics();
          const s = 32; // Tamanho do grid (32px)

          // Sombra Projetada (No chão) - Essencial para integração
          // Desenhada separadamente na entidade, não na textura

          // Corpo Principal
          g.beginFill(C_SHADOW); // Contorno escuro
          g.drawRect(0, 0, s, s);
          g.beginFill(bodyColor); // Cor base
          g.drawRect(2, 2, 28, 28);

          // Iluminação Global (Luz vindo do Topo-Esquerdo)
          g.beginFill(0xFFFFFF, 0.15); // Highlight
          g.drawRect(2, 2, 26, 2); // Borda Topo
          g.drawRect(2, 2, 2, 26); // Borda Esq

          // Oclusão Ambiental (Sombra própria)
          g.beginFill(0x000000, 0.25); 
          g.drawRect(4, 26, 24, 4); // Base
          g.drawRect(26, 4, 4, 26); // Lado Direito

          // Visor (Monitor facial)
          g.beginFill(C_SHADOW);
          g.drawRect(6, 6, 20, 8);
          g.beginFill(visorColor); // Luz interna
          g.drawRect(8, 8, 16, 4);
          
          // Detalhes Mecânicos
          g.beginFill(C_SHADOW);
          g.drawRect(4, 20, 4, 8); // Perna Esq
          g.drawRect(24, 20, 4, 8); // Perna Dir
          
          // Antena
          g.beginFill(C_METAL);
          g.drawRect(4, -4, 2, 4);

          return app.renderer.generateTexture(g);
        }

        // Criar Texturas Baseadas na Arte
        const texWorker = createBotTexture(C_METAL, C_GREEN); // Padrão
        const texRusty = createBotTexture(C_RUST, C_LIGHT);   // Velho/Ferrugem
        const texTech = createBotTexture(0x2e3b4e, C_MONITOR); // High-Tech

        // --- 2. CLASSE DE ENTIDADE (ROBÔ) ---
        class Robot {
          constructor(texture, x, y, scale=1.5) {
            this.container = new PIXI.Container();
            this.container.x = x;
            this.container.y = y;

            // Sombra no Chão (Integração com o ambiente)
            const shadow = new PIXI.Graphics();
            shadow.beginFill(0x000000, 0.4); // Sombra semitransparente
            shadow.drawEllipse(0, 16 * scale, 8 * scale, 3 * scale);
            shadow.endFill();
            this.container.addChild(shadow);

            // Sprite
            this.sprite = new PIXI.Sprite(texture);
            this.sprite.anchor.set(0.5);
            this.sprite.scale.set(scale);
            this.container.addChild(this.sprite);
            
            world.addChild(this.container);
            
            this.homeX = x;
            this.state = 'idle';
            this.timer = Math.random() * 100;
          }

          update(delta) {
            this.timer += delta;
            
            // Animação "Idle" (Respiração mecânica)
            // O corpo sobe e desce 1 pixel lentamente
            this.sprite.y = Math.sin(this.timer / 30) * 2;
          }
        }

        // --- 3. COMPOSIÇÃO DE CENA (NAVMESH) ---
        const viewW = window.innerWidth;
        const viewH = window.innerHeight;

        // Coordenadas Y baseadas na análise da arte (Percentuais)
        const LEVEL_3 = viewH * 0.28; // Terraço
        const LEVEL_2 = viewH * 0.55; // Centro de Comando
        const LEVEL_1 = viewH * 0.72; // Plataforma Inferior

        // Robôs posicionados estrategicamente
        const bots = [];

        // Nível Superior (Observador)
        const botTop = new Robot(texTech, viewW * 0.2, LEVEL_3, 1.8);
        bots.push(botTop);

        // Nível Médio (Operador, ao lado do monitor)
        const botMid = new Robot(texRusty, viewW * 0.15, LEVEL_2, 2.0);
        bots.push(botMid);

        // Nível Inferior (Trabalhador)
        const botLow = new Robot(texWorker, viewW * 0.85, LEVEL_1, 2.2);
        bots.push(botLow);

        // --- 4. ATMOSFERA (NUVENS) ---
        const clouds = [];
        for(let i=0; i<5; i++) {
          const c = new PIXI.Graphics();
          c.beginFill(0xFFFFFF, 0.05 + Math.random() * 0.05); // Muito sutil
          const w = 100 + Math.random() * 150;
          const h = 30 + Math.random() * 20;
          c.drawRect(0, 0, w, h); // Base
          c.drawRect(20, -15, w-40, 15); // Topo
          c.endFill();
          c.x = Math.random() * viewW;
          c.y = Math.random() * (viewH * 0.4); // Só no céu
          c.speed = 0.2 + Math.random() * 0.3;
          world.addChildAt(c, 0); // Atrás dos robôs
          clouds.push(c);
        }

        // --- LOOP PRINCIPAL ---
        app.ticker.add((delta) => {
          // Atualiza Robôs
          bots.forEach(b => b.update(delta));

          // Atualiza Nuvens
          clouds.forEach(c => {
            c.x += c.speed * delta;
            if(c.x > viewW) c.x = -200;
          });
        });

      })(); // Fim da IIFE (Simulação)

      // --- TYPEWRITER (UI Script) ---
      (function() {
        const text = `> SYSTEM READY.\n> LOADING PROJECT: LoL_Performance_AI\n> DATA SOURCE: Riot API (Match-V5)\n\nSTATUS: ACADEMIC RESEARCH ACTIVE.`;
        const consoleDiv = document.getElementById('console-output');
        let charI = 0;
        function type() {
          if(charI < text.length) {
            const char = text.charAt(charI);
            consoleDiv.innerHTML += char === '\n' ? '<br>' : char;
            charI++;
            setTimeout(type, 25);
          } else {
            consoleDiv.innerHTML += '<span class="cursor"></span>';
          }
        }
        setTimeout(type, 800);
      })();

    </script>
  </body>
</html>
