<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>LoL Performance AI - Research Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- LIBRARIES -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.3.2/pixi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Rajdhani:wght@600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* =========================================
         CORE STYLE (Industrial Retro Refined)
         ========================================= */
      :root {
        --bg-dark: #0a0a0a;
        --text-main: #dcdacb;
        --accent-green: #44d65c;
        --accent-gold: #ffcd75;
        --accent-red: #e53b44;
        --metal-dark: #1a1c2c;
        --metal-plate: #3e2b22;
        --paper-bg: #dcdacb;
        --monitor-bg: #05080a;
        --ui-shadow: 6px 6px 0 rgba(0,0,0,0.8);
      }

      * { box-sizing: border-box; }

      body {
        margin: 0;
        padding: 0;
        background-color: var(--bg-dark);
        font-family: "Press Start 2P", cursive;
        color: var(--text-main);
        overflow: hidden;
        height: 100vh;
        width: 100vw;
      }

      /* CAMADAS VISUAIS */

      /* 1. A TORRE (Fundo Fixo) - Prioridade PNG */
      .layer-structure {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background-image: url('assets/lab-base.png'), url('lab-base.png'), url('assets/lab-base.jpg');
        background-position: center bottom;
        background-size: cover;
        background-repeat: no-repeat;
        image-rendering: pixelated;
        z-index: 0;
      }

      /* 2. SIMULAÇÃO (PixiJS - Robôs e Fumaça) */
      #game-stage {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        z-index: 1;
        pointer-events: none;
      }

      /* 3. UI INTERFACE */
      #ui-layer {
        position: relative;
        z-index: 10;
        width: 100%; height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-between;
        padding: 2vh 2vw;
        pointer-events: none;
        background: radial-gradient(circle, transparent 60%, rgba(0,0,0,0.4) 100%);
      }

      .interactive { pointer-events: auto; }

      /* =========================================
         UI COMPONENTS (Refined Industrial)
         ========================================= */

      /* PLACA (Signboard) - Laranja Avermelhado com "Repintura" Azul */
      .sign-container {
        margin-top: 15px;
        animation: floatSign 5s ease-in-out infinite;
        position: relative;
      }
      /* Cordas */
      .sign-container::before, .sign-container::after {
        content: ""; position: absolute; top: -100vh; width: 4px; height: 100vh;
        background: #222; border-left: 2px solid #000; z-index: -1;
      }
      .sign-container::before { left: 15px; transform: rotate(1deg); }
      .sign-container::after { right: 15px; transform: rotate(-1deg); }

      .sign-board {
        /* Gradiente vibrante Laranja/Vermelho com desgaste */
        background: linear-gradient(160deg,
          #e65c40 0%,
          #bf3626 60%,
          #3a4a5e 85%, /* Mancha de metal azulado */
          #242e38 100%
        );
        border: 4px solid #1a1c2c;
        padding: 12px 24px;
        box-shadow: var(--ui-shadow);
        text-align: center;
        position: relative;
        border-radius: 2px;
      }

      /* Parafusos nos cantos */
      .sign-board::before, .sign-board::after {
        content: "+"; position: absolute; top: 4px; color: #111; font-size: 10px;
      }
      .sign-board::before { left: 6px; } .sign-board::after { right: 6px; }

      .sign-title {
        font-size: 1rem; color: #fff;
        text-shadow: 2px 2px 0 #3e1010;
        margin: 0; text-transform: uppercase; letter-spacing: 2px;
      }
      .sign-sub {
        font-size: 0.55rem; color: var(--accent-gold); display: block; margin-top: 6px; letter-spacing: 1px; background: rgba(0,0,0,0.3); padding: 4px 8px; border-radius: 4px;
      }

      /* MONITOR (CRT Screen) */
      .monitor-wrapper {
        background: #222;
        padding: 8px;
        border-radius: 4px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.9);
        width: 100%; max-width: 680px;
        position: relative;
        border: 3px solid #111;
        margin-top: 10px;
      }
      .monitor-wrapper::before {
        content:""; position:absolute; top:100%; left:50%; width:90%; height:10px;
        background: #000; opacity:0.6; filter:blur(8px); transform:translateX(-50%);
      }

      .crt-screen {
        background: var(--monitor-bg);
        border: 2px solid #444;
        height: 150px;
        padding: 15px;
        overflow: hidden;
        position: relative;
        color: var(--accent-green);
        font-size: 0.55rem;
        line-height: 1.5;
        text-shadow: 0 0 2px rgba(68, 214, 92, 0.5);
        white-space: pre-wrap;
      }

      /* Scanlines */
      .crt-screen::after {
        content: ""; position: absolute; inset: 0;
        background: repeating-linear-gradient(0deg, rgba(0,0,0,0.1), rgba(0,0,0,0.1) 1px, transparent 1px, transparent 2px);
        pointer-events: none;
      }

      /* GRIDS DE INFORMAÇÃO */
      .deck-grid {
        display: flex; justify-content: center; gap: 20px; width: 100%; max-width: 750px;
      }

      .clipboard {
        background: var(--paper-bg);
        color: #1a1c2c;
        padding: 12px;
        position: relative;
        box-shadow: var(--ui-shadow);
        border: 2px solid #555;
        flex: 1;
        display: flex; flex-direction: column;
      }

      .clipboard::before {
        content: ""; position: absolute; top: -8px; left: 50%; transform: translateX(-50%);
        width: 40px; height: 12px; background: #555; border: 2px solid #222; border-radius: 2px;
      }

      .clip-title {
        background: #222; color: #fff; padding: 5px; text-align: center; font-size: 0.55rem; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px;
      }

      .clip-content { flex-grow: 1; }

      .clip-content ul {
        list-style: none; padding: 0; margin: 0; font-family: "Rajdhani", sans-serif; font-weight: 700; font-size: 0.75rem;
        line-height: 1.3;
      }
      .clip-content li { margin-bottom: 4px; padding-left: 12px; position: relative; }
      .clip-content li::before { content: "►"; color: var(--accent-red); font-size: 0.5rem; position: absolute; left: 0; top: 3px; }

      /* RODAPÉ */
      .cargo-crate {
        background: #4a3c31;
        border: 3px solid #2e221b;
        padding: 12px;
        width: 100%; max-width: 650px;
        text-align: center;
        position: relative;
        box-shadow: var(--ui-shadow);
        margin-bottom: 15px;
      }
      .cargo-crate::after {
        content: ""; position: absolute; bottom: 0; left: 0; width: 100%; height: 6px;
        background: repeating-linear-gradient(-45deg, #ffcd75, #ffcd75 10px, #222 10px, #222 20px);
      }

      .legal-text {
        font-family: "Rajdhani", sans-serif; font-weight: 600; font-size: 0.7rem; color: #cbbfae; margin-bottom: 8px; line-height: 1.2;
      }

      .btn-pixel {
        display: inline-block; background: var(--accent-gold); color: #000; text-decoration: none;
        padding: 6px 14px; border: 2px solid #000; box-shadow: 2px 2px 0 #000; font-size: 0.55rem; font-weight: bold;
        transition: transform 0.1s;
      }
      .btn-pixel:active { transform: translate(1px, 1px); box-shadow: 0px 0px 0 #000; }

      @keyframes floatSign { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(3px); } }
      .cursor { display: inline-block; width: 5px; height: 10px; background: var(--accent-green); animation: blink 1s infinite; vertical-align: middle; }
      @keyframes blink { 50% { opacity: 0; } }

      @media (max-width: 768px) {
        #ui-layer { height: auto; overflow-y: auto; padding-top: 50px; }
        .deck-grid { flex-direction: column; }
        .monitor-wrapper, .cargo-crate { width: 95%; }
      }
    </style>
  </head>
  <body>

    <div class="layer-structure"></div>
    <div id="game-stage"></div>

    <div id="ui-layer">

      <header class="sign-container interactive">
        <div class="sign-board">
          <h1 class="sign-title">LOL PERFORMANCE</h1>
          <span class="sign-sub">AI MASTER'S DISSERTATION</span>
        </div>
      </header>

      <main class="monitor-wrapper interactive">
        <div class="crt-screen" id="console-output"></div>
      </main>

      <section class="deck-grid">

        <article class="clipboard interactive">
          <div class="clip-title">PROJECT GOALS</div>
          <div class="clip-content">
            <ul>
              <li>Collect historical ranked match data (Riot API).</li>
              <li>Build structured datasets (gold, XP, objectives).</li>
              <li>Train predictive models (Deep Learning).</li>
              <li>Produce aggregated statistics for analysis.</li>
            </ul>
          </div>
        </article>

        <article class="clipboard interactive" style="background: #d3dce0;">
          <div class="clip-title">TECH & ETHICS</div>
          <div class="clip-content">
            <ul>
              <li><strong>CORE:</strong> Python (Data Collection/Eng.)</li>
              <li><strong>ML:</strong> PyTorch & Scikit-Learn</li>
              <li><strong>DATA:</strong> Pandas / Jupyter Notebooks</li>
              <li><strong>API:</strong> Riot (match-v5, summoner-v4)</li>
            </ul>
            <hr style="border: 0; border-top: 1px dashed #555; margin: 8px 0;">
            <div style="font-size: 0.65rem; font-family: 'Rajdhani', sans-serif; line-height: 1.2; color: #444;">
              <strong>ETHICS:</strong> Non-commercial. Aggregate analysis. Individual players not profiled.
            </div>
          </div>
        </article>

      </section>

      <footer class="cargo-crate interactive">
        <p class="legal-text">
          This project isn’t endorsed by Riot Games and doesn’t reflect the views or opinions of Riot Games or anyone officially involved in producing or managing Riot Games properties. Riot Games and all associated properties are trademarks or registered trademarks of Riot Games, Inc.
        </p>
        <a href="https://github.com/HenryAiroso/Master-Degree-PPGCAP-LoLPerformance" target="_blank" class="btn-pixel">
          ACCESS REPOSITORY
        </a>
      </footer>

    </div>

    <script>
      (function() {

        // ============================================
        // CONFIGURAÇÃO DO PIXI.JS (Simulação)
        // ============================================
        const app = new PIXI.Application({
          backgroundAlpha: 0,
          resizeTo: window,
          antialias: false,
          resolution: window.devicePixelRatio || 1,
        });
        document.getElementById('game-stage').appendChild(app.view);

        const world = new PIXI.Container();
        app.stage.addChild(world);

        // Cores Vibrantes (Inspiradas nas Refs)
        const C = {
          PURPLE: 0x6a4c93,
          PURPLE_DARK: 0x402a5e,
          ORANGE: 0xe07a5f,
          ORANGE_DARK: 0xb04e35,
          CYAN: 0x4ecdc4,
          TEAL: 0x2b5c59,
          YELLOW: 0xf7b731,
          METAL: 0x95afc0,
          METAL_DARK: 0x535c68,
          BLACK: 0x1e272e,
          WHITE: 0xffffff,
          GREEN_PLANT: 0x6a9955,
          GREEN_PLANT_DARK: 0x4a6e3c
        };

        // ============================================
        // 1. SPRITE FACTORY (Robôs Complexos & Únicos)
        //    + Partes Móveis
        // ============================================
        // Desenhando em um Canvas 64x64 virtual, mas com shapes detalhados
        function createRobotTexture(type) {
          const g = new PIXI.Graphics();
          const scale = 1; // 1:1 desenho vetorial no canvas

          // Helper de Retângulo com Borda
          const box = (x, y, w, h, fill, border=C.BLACK) => {
            g.beginFill(border); // Borda grossa
            g.drawRect(x, y, w, h);
            g.beginFill(fill);
            g.drawRect(x+2, y+2, w-4, h-4);
            
            // Highlight (Luz Topo)
            g.beginFill(0xFFFFFF, 0.2);
            g.drawRect(x+2, y+2, w-4, 2);
            g.endFill();
          };

          if (type === 'tank') {
            // ROBÔ "TANK" (Roxo, Pesado, Braço Garra) - Ref 1
            
            // Pernas (Grossas)
            box(10, 40, 12, 16, C.METAL_DARK);
            box(38, 40, 12, 16, C.METAL_DARK);
            // Pés
            box(8, 52, 16, 6, C.METAL);
            box(36, 52, 16, 6, C.METAL);

            // Tronco (Blindado)
            box(12, 18, 36, 24, C.PURPLE);
            // Detalhe Peito
            box(20, 24, 20, 12, C.PURPLE_DARK);
            g.beginFill(C.CYAN); // Núcleo de energia
            g.drawCircle(30, 30, 3);

            // Cabeça (Capacete)
            box(18, 8, 24, 14, C.PURPLE);
            // Visor (Ciclope Vermelho)
            g.beginFill(C.BLACK);
            g.drawRect(22, 12, 16, 6);
            g.beginFill(0xff3333);
            g.drawRect(26, 13, 8, 4);

            // Braço Esquerdo (Garra Gigante)
            box(0, 20, 12, 20, C.PURPLE_DARK);
            box(0, 36, 12, 12, C.METAL); // Garra base
            g.beginFill(C.CYAN); // Luz da garra
            g.drawRect(4, 40, 4, 4);

            // Braço Direito
            box(48, 20, 10, 24, C.PURPLE_DARK);

          } else if (type === 'brain') {
            // ROBÔ "CÉREBRO" (Laranja, Vidro, Tripé) - Ref 2

            // Pernas (Tripé Fino)
            g.lineStyle(4, C.METAL_DARK);
            g.moveTo(20, 40); g.lineTo(15, 55);
            g.moveTo(40, 40); g.lineTo(45, 55);
            g.moveTo(30, 40); g.lineTo(30, 50);
            g.lineStyle(0);

            // Corpo (Esférico/Ovoide)
            g.beginFill(C.BLACK); g.drawCircle(30, 30, 16); // Contorno
            g.beginFill(C.ORANGE); g.drawCircle(30, 30, 14);

            // Cúpula de Vidro
            g.beginFill(C.CYAN, 0.4); // Vidro
            g.drawEllipse(30, 14, 10, 8);
            // Cérebro Rosa
            g.beginFill(0xff88aa);
            g.drawEllipse(30, 16, 6, 4);

            // Olho Grande (Ciclope)
            g.beginFill(C.WHITE);
            g.drawCircle(30, 30, 6);
            g.beginFill(C.BLACK);
            g.drawCircle(30, 30, 2); // Pupila

            // Antena
            g.beginFill(C.METAL);
            g.drawRect(40, 10, 2, 10);
            g.beginFill(C.RED);
            g.drawCircle(41, 10, 2);

          } else if (type === 'monitor') {
            // ROBÔ "MONITOR" (Cabeça TV, Esteira) - Ref 3
            
            // Esteira (Rodas)
            box(15, 45, 30, 10, C.METAL_DARK);
            g.beginFill(C.BLACK); // Rodas
            g.drawCircle(20, 50, 3);
            g.drawCircle(30, 50, 3);
            g.drawCircle(40, 50, 3);

            // Pescoço
            box(26, 35, 8, 10, C.METAL);

            // Cabeça (Monitor CRT)
            box(15, 15, 30, 20, C.METAL_LIGHT); // Carcaça
            box(18, 18, 24, 14, C.BLACK); // Tela
            
            // Rosto Digital
            g.beginFill(C.CYAN);
            g.drawRect(22, 22, 4, 4); // Olho E
            g.drawRect(34, 22, 4, 4); // Olho D
            g.drawRect(26, 28, 8, 2); // Boca

            // Braços Finos
            g.lineStyle(3, C.METAL_DARK);
            g.moveTo(15, 40); g.lineTo(5, 35); // Braço Esq
            g.moveTo(45, 40); g.lineTo(55, 35); // Braço Dir
          }

          return app.renderer.generateTexture(g);
        }

        const texTank = createRobotTexture('tank');
        const texBrain = createRobotTexture('brain');
        const texMonitor = createRobotTexture('monitor');

        // ============================================
        // 2. ENTIDADES (Comportamento & Animação)
        // ============================================
        class Robot {
          constructor(texture, x, y, scale=1) {
            this.container = new PIXI.Container();
            this.container.x = x;
            this.container.y = y;

            // Sombra
            const shadow = new PIXI.Graphics();
            shadow.beginFill(0x000000, 0.4);
            shadow.drawEllipse(30, 58, 20, 6);
            shadow.endFill();
            this.container.addChild(shadow);

            this.sprite = new PIXI.Sprite(texture);
            this.sprite.anchor.set(0.5);
            this.sprite.scale.set(scale);
            this.container.addChild(this.sprite);
            
            world.addChild(this.container);
            
            this.homeX = x;
            this.stateTimer = Math.random() * 100;
          }

          update(delta) {
            this.stateTimer += delta;
            // Idle (Respiração)
            this.sprite.y = Math.sin(this.stateTimer / 30) * 3;
          }

          walkTo(targetX) {
             const dx = targetX - this.container.x;
             if(Math.abs(dx) > 1) {
               const dir = Math.sign(dx);
               this.container.x += dir * 0.6;
               
               if(dir > 0) this.sprite.scale.x = Math.abs(this.sprite.scale.x);
               else this.sprite.scale.x = -Math.abs(this.sprite.scale.x);
             }
          }
        }

        // ============================================
        // 3. POSICIONAMENTO (Integrado à Arte)
        // ============================================
        const W = window.innerWidth;
        const H = window.innerHeight;

        // 1. Robô "Brain" (Topo Esquerda - Observando o Horizonte)
        // Fica na varanda superior
        const bot1 = new Robot(texBrain, W * 0.22, H * 0.28, 0.8);
        
        // 2. Robô "Tank" (Meio Direita - Trabalho Pesado)
        // Fica na plataforma central, perto dos canos
        const bot2 = new Robot(texTank, W * 0.78, H * 0.55, 0.9);

        // 3. Robô "Monitor" (Baixo Esquerda - Patrulha)
        // Fica na passarela inferior
        const bot3 = new Robot(texMonitor, W * 0.15, H * 0.72, 0.8);


        // ============================================
        // 4. BACKGROUND FX (Partículas Atmosféricas)
        // ============================================
        const particles = [];
        for(let i=0; i<30; i++) {
            const p = new PIXI.Graphics();
            p.beginFill(0xFFFFFF, 0.1 + Math.random()*0.2);
            p.drawCircle(0,0, 1 + Math.random()*2); // Poeira fina
            p.endFill();
            p.x = Math.random() * W;
            p.y = Math.random() * H;
            p.vx = (Math.random() - 0.5) * 0.5;
            p.vy = (Math.random() - 0.5) * 0.5;
            world.addChildAt(p, 0); // Atrás de tudo
            particles.push(p);
        }

        // Nuvens de Neblina (Frente)
        const fogs = [];
        for(let i=0; i<4; i++) {
            const f = new PIXI.Graphics();
            f.beginFill(0xFFFFFF, 0.03); // Muito sutil
            f.drawRect(0,0, 200 + Math.random()*300, 50 + Math.random()*50);
            f.endFill();
            f.x = Math.random() * W;
            f.y = Math.random() * H;
            f.speed = 0.1 + Math.random() * 0.2;
            world.addChild(f); // Na frente
            fogs.push(f);
        }

        // ============================================
        // 5. LOOP PRINCIPAL
        // ============================================
        app.ticker.add((delta) => {
          
          // Animar Poeira (Mouse Interaction)
          particles.forEach(p => {
             p.x += p.vx; p.y += p.vy;
             if(p.x > W) p.x = 0; if(p.x < 0) p.x = W;
             if(p.y > H) p.y = 0; if(p.y < 0) p.y = H;
          });

          // Animar Neblina
          fogs.forEach(f => {
             f.x += f.speed * delta;
             if(f.x > W) f.x = -500;
          });

          // Animar Robôs
          bot1.update(delta);
          // O Cérebro flutua mais alto
          bot1.sprite.y = Math.sin(Date.now()/500) * 5;

          bot2.update(delta);
          // O Tank ocasionalmente "trabalha" (vibra)
          if(Math.random() < 0.01) {
              gsap.to(bot2.sprite, {x: 2, yoyo:true, repeat:5, duration:0.05});
          }

          bot3.update(delta);
          // O Monitor patrulha
          const target = W * 0.15 + Math.cos(Date.now()/4000) * 100;
          bot3.walkTo(target);

        });

      })();

      // --- UI TYPEWRITER ---
      (function() {
        const text = `> SYSTEM READY.\n> LOADING: Master's Dissertation\n> SUBJECT: LoL Performance AI (Applied Computing)\n\nANALYSIS: Matches analyzed via Machine Learning to model player/team performance over time.`;
        
        const el = document.getElementById('console-output');
        let i = 0;
        function type() {
          if(i < text.length) {
            const c = text.charAt(i);
            el.innerHTML += c === '\n' ? '<br>' : c;
            i++; setTimeout(type, 30);
          } else {
            el.innerHTML += '<span class="cursor"></span>';
          }
        }
        setTimeout(type, 800);
      })();
    </script>
  </body>
</html>
