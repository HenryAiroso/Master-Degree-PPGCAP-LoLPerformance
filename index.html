<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>LoL Performance AI - Research Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- LIBRARIES --><script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.3.2/pixi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- FONTS --><link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Rajdhani:wght@600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* =========================================
         CORE STYLE (Industrial Retro Refined)
         ========================================= */
      :root {
        --bg-dark: #0a0a0a;
        --text-main: #dcdacb;
        --accent-green: #44d65c;
        --accent-gold: #ffcd75;
        --accent-red: #e53b44;
        --metal-dark: #1a1c2c;
        --metal-plate: #3e2b22;
        --paper-bg: #dcdacb;
        --monitor-bg: #05080a;
        --ui-shadow: 6px 6px 0 rgba(0,0,0,0.8);
      }

      * { box-sizing: border-box; }

      body {
        margin: 0;
        padding: 0;
        background-color: var(--bg-dark);
        font-family: "Press Start 2P", cursive;
        color: var(--text-main);
        overflow: hidden;
        height: 100vh;
        width: 100vw;
      }

      /* CAMADAS VISUAIS */

      /* 1. A TORRE (Fundo Fixo) - Prioridade PNG */
      .layer-structure {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background-image: url('assets/lab-base.png'), url('lab-base.png'), url('assets/lab-base.jpg');
        background-position: center bottom;
        background-size: cover;
        background-repeat: no-repeat;
        image-rendering: pixelated;
        z-index: 0;
      }

      /* 2. SIMULAÇÃO (PixiJS - Robôs e Fumaça) */
      #game-stage {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        z-index: 1;
        pointer-events: none;
      }

      /* 3. UI INTERFACE */
      #ui-layer {
        position: relative;
        z-index: 10;
        width: 100%; height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-between;
        padding: 2vh 2vw;
        pointer-events: none;
        background: radial-gradient(circle, transparent 60%, rgba(0,0,0,0.4) 100%);
      }

      .interactive { pointer-events: auto; }

      /* =========================================
         UI COMPONENTS (Refined Industrial)
         ========================================= */

      /* PLACA (Signboard) - Laranja Avermelhado com "Repintura" Azul */
      .sign-container {
        margin-top: 15px;
        animation: floatSign 5s ease-in-out infinite;
        position: relative;
      }
      /* Cordas */
      .sign-container::before, .sign-container::after {
        content: ""; position: absolute; top: -100vh; width: 4px; height: 100vh;
        background: #222; border-left: 2px solid #000; z-index: -1;
      }
      .sign-container::before { left: 15px; transform: rotate(1deg); }
      .sign-container::after { right: 15px; transform: rotate(-1deg); }

      .sign-board {
        /* Gradiente vibrante Laranja/Vermelho com desgaste */
        background: linear-gradient(160deg,
          #e65c40 0%,
          #bf3626 60%,
          #3a4a5e 85%, /* Mancha de metal azulado */
          #242e38 100%
        );
        border: 4px solid #1a1c2c;
        padding: 12px 24px;
        box-shadow: var(--ui-shadow);
        text-align: center;
        position: relative;
        border-radius: 2px;
      }

      /* Parafusos nos cantos */
      .sign-board::before, .sign-board::after {
        content: "+"; position: absolute; top: 4px; color: #111; font-size: 10px;
      }
      .sign-board::before { left: 6px; } .sign-board::after { right: 6px; }

      .sign-title {
        font-size: 1rem; color: #fff;
        text-shadow: 2px 2px 0 #3e1010;
        margin: 0; text-transform: uppercase; letter-spacing: 2px;
      }
      .sign-sub {
        font-size: 0.55rem; color: var(--accent-gold); display: block; margin-top: 6px; letter-spacing: 1px; background: rgba(0,0,0,0.3); padding: 4px 8px; border-radius: 4px;
      }

      /* MONITOR (CRT Screen) */
      .monitor-wrapper {
        background: #222;
        padding: 8px;
        border-radius: 4px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.9);
        width: 100%; max-width: 680px;
        position: relative;
        border: 3px solid #111;
        margin-top: 10px;
      }
      .monitor-wrapper::before {
        content:""; position:absolute; top:100%; left:50%; width:90%; height:10px;
        background: #000; opacity:0.6; filter:blur(8px); transform:translateX(-50%);
      }

      .crt-screen {
        background: var(--monitor-bg);
        border: 2px solid #444;
        height: 150px;
        padding: 15px;
        overflow: hidden;
        position: relative;
        color: var(--accent-green);
        font-size: 0.55rem;
        line-height: 1.5;
        text-shadow: 0 0 2px rgba(68, 214, 92, 0.5);
        white-space: pre-wrap;
      }

      /* Scanlines */
      .crt-screen::after {
        content: ""; position: absolute; inset: 0;
        background: repeating-linear-gradient(0deg, rgba(0,0,0,0.1), rgba(0,0,0,0.1) 1px, transparent 1px, transparent 2px);
        pointer-events: none;
      }

      /* GRIDS DE INFORMAÇÃO */
      .deck-grid {
        display: flex; justify-content: center; gap: 20px; width: 100%; max-width: 750px;
      }

      .clipboard {
        background: var(--paper-bg);
        color: #1a1c2c;
        padding: 12px;
        position: relative;
        box-shadow: var(--ui-shadow);
        border: 2px solid #555;
        flex: 1;
        display: flex; flex-direction: column;
      }

      .clipboard::before {
        content: ""; position: absolute; top: -8px; left: 50%; transform: translateX(-50%);
        width: 40px; height: 12px; background: #555; border: 2px solid #222; border-radius: 2px;
      }

      .clip-title {
        background: #222; color: #fff; padding: 5px; text-align: center; font-size: 0.55rem; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px;
      }

      .clip-content { flex-grow: 1; }

      .clip-content ul {
        list-style: none; padding: 0; margin: 0; font-family: "Rajdhani", sans-serif; font-weight: 700; font-size: 0.75rem;
        line-height: 1.3;
      }
      .clip-content li { margin-bottom: 4px; padding-left: 12px; position: relative; }
      .clip-content li::before { content: "►"; color: var(--accent-red); font-size: 0.5rem; position: absolute; left: 0; top: 3px; }

      /* RODAPÉ */
      .cargo-crate {
        background: #4a3c31;
        border: 3px solid #2e221b;
        padding: 12px;
        width: 100%; max-width: 650px;
        text-align: center;
        position: relative;
        box-shadow: var(--ui-shadow);
        margin-bottom: 15px;
      }
      .cargo-crate::after {
        content: ""; position: absolute; bottom: 0; left: 0; width: 100%; height: 6px;
        background: repeating-linear-gradient(-45deg, #ffcd75, #ffcd75 10px, #222 10px, #222 20px);
      }

      .legal-text {
        font-family: "Rajdhani", sans-serif; font-weight: 600; font-size: 0.7rem; color: #cbbfae; margin-bottom: 8px; line-height: 1.2;
      }

      .btn-pixel {
        display: inline-block; background: var(--accent-gold); color: #000; text-decoration: none;
        padding: 6px 14px; border: 2px solid #000; box-shadow: 2px 2px 0 #000; font-size: 0.55rem; font-weight: bold;
        transition: transform 0.1s;
      }
      .btn-pixel:active { transform: translate(1px, 1px); box-shadow: 0px 0px 0 #000; }

      @keyframes floatSign { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(3px); } }
      .cursor { display: inline-block; width: 5px; height: 10px; background: var(--accent-green); animation: blink 1s infinite; vertical-align: middle; }
      @keyframes blink { 50% { opacity: 0; } }

      @media (max-width: 768px) {
        #ui-layer { height: auto; overflow-y: auto; padding-top: 50px; }
        .deck-grid { flex-direction: column; }
        .monitor-wrapper, .cargo-crate { width: 95%; }
      }
    </style>
  </head>
  <body>

    <div class="layer-structure"></div>
    <div id="game-stage"></div>

    <div id="ui-layer">

      <header class="sign-container interactive">
        <div class="sign-board">
          <h1 class="sign-title">LOL PERFORMANCE</h1>
          <span class="sign-sub">AI MASTER'S DISSERTATION</span>
        </div>
      </header>

      <main class="monitor-wrapper interactive">
        <div class="crt-screen" id="console-output"></div>
      </main>

      <section class="deck-grid">

        <article class="clipboard interactive">
          <div class="clip-title">PROJECT GOALS</div>
          <div class="clip-content">
            <ul>
              <li>Collect historical ranked match data (Riot API).</li>
              <li>Build structured datasets (gold, XP, objectives).</li>
              <li>Train predictive models (Deep Learning).</li>
              <li>Produce aggregated statistics for analysis.</li>
            </ul>
          </div>
        </article>

        <article class="clipboard interactive" style="background: #d3dce0;">
          <div class="clip-title">TECH & ETHICS</div>
          <div class="clip-content">
            <ul>
              <li><strong>CORE:</strong> Python (Data Collection/Eng.)</li>
              <li><strong>ML:</strong> PyTorch & Scikit-Learn</li>
              <li><strong>DATA:</strong> Pandas / Jupyter Notebooks</li>
              <li><strong>API:</strong> Riot (match-v5, summoner-v4)</li>
            </ul>
            <hr style="border: 0; border-top: 1px dashed #555; margin: 8px 0;">
            <div style="font-size: 0.65rem; font-family: 'Rajdhani', sans-serif; line-height: 1.2; color: #444;">
              <strong>ETHICS:</strong> Non-commercial. Aggregate analysis. Individual players not profiled.
            </div>
          </div>
        </article>

      </section>

      <footer class="cargo-crate interactive">
        <p class="legal-text">
          This project isn’t endorsed by Riot Games and doesn’t reflect the views or opinions of Riot Games or anyone officially involved in producing or managing Riot Games properties. Riot Games and all associated properties are trademarks or registered trademarks of Riot Games, Inc.
        </p>
        <a href="https://github.com/HenryAiroso/Master-Degree-PPGCAP-LoLPerformance" target="_blank" class="btn-pixel">
          ACCESS REPOSITORY
        </a>
      </footer>

    </div>

    <script>
      (function() {

        // ============================================
        // CONFIGURAÇÃO DO PIXI.JS (Simulação)
        // ============================================
        const app = new PIXI.Application({
          backgroundAlpha: 0,
          resizeTo: window,
          antialias: false,
          resolution: window.devicePixelRatio || 1,
        });
        document.getElementById('game-stage').appendChild(app.view);

        const world = new PIXI.Container();
        app.stage.addChild(world);

        // Cores Vibrantes (Inspiradas nas Refs)
        const C = {
          PURPLE: 0x6a4c93,
          PURPLE_DARK: 0x402a5e,
          ORANGE: 0xe07a5f,
          ORANGE_DARK: 0xb04e35,
          CYAN: 0x4ecdc4,
          TEAL: 0x2b5c59,
          YELLOW: 0xf7b731,
          METAL: 0x95afc0,
          METAL_DARK: 0x535c68,
          BLACK: 0x1e272e,
          WHITE: 0xffffff,
          GREEN_PLANT: 0x6a9955,
          GREEN_PLANT_DARK: 0x4a6e3c
        };

        // ============================================
        // 1. SPRITE FACTORY (Robôs Complexos & Únicos)
        //    + Partes Móveis
        // ============================================
        // Desenhando em um Canvas 64x64 virtual, mas com shapes detalhados
        function createRobotSprite(type, scale = 1) {
          const container = new PIXI.Container();
          const g = new PIXI.Graphics();
          container.addChild(g);
          container.scale.set(scale);

          // Helper de Retângulo com Borda e Iluminação
          const box = (gObj, x, y, w, h, fill, border = C.BLACK) => {
            gObj.beginFill(border);
            gObj.drawRect(x, y, w, h);
            gObj.beginFill(fill);
            gObj.drawRect(x + 2, y + 2, w - 4, h - 4);

            // Iluminação sutil no topo
            gObj.beginFill(C.WHITE, 0.2);
            gObj.drawRect(x + 2, y + 2, w - 4, 2);
            gObj.endFill();
          };

          if (type === 'tank') {
            // ROBÔ "TANK" (Roxo, Pesado, Braço Garra) - Ref 1
            // Partes fixas no 'g'
            box(g, 10, 40, 12, 16, C.METAL_DARK); // Perna E
            box(g, 38, 40, 12, 16, C.METAL_DARK); // Perna D
            box(g, 8, 52, 16, 6, C.METAL); // Pé E
            box(g, 36, 52, 16, 6, C.METAL); // Pé D
            box(g, 12, 18, 36, 24, C.PURPLE); // Tronco
            box(g, 20, 24, 20, 12, C.PURPLE_DARK); // Detalhe Peito
            g.beginFill(C.CYAN);
            g.drawCircle(30, 30, 3); // Núcleo de energia
            g.beginFill(C.BLACK);
            g.drawRect(22, 12, 16, 6); // Visor do Capacete

            // Olho Vermelho (parte do visor)
            const eye = new PIXI.Graphics();
            eye.beginFill(0xff3333);
            eye.drawRect(0, 0, 8, 4);
            eye.x = 26; eye.y = 13;
            g.addChild(eye); // Adicionar ao graphics principal

            // Cabeça (separada para balançar)
            const head = new PIXI.Graphics();
            box(head, 0, 0, 24, 14, C.PURPLE);
            head.x = 18; head.y = 8;
            container.addChild(head);
            this.head = head; // Referência para animação

            // Braço Esquerdo (Garra Gigante) - Animado
            const armL = new PIXI.Container();
            box(armL.graphics, 0, 0, 12, 20, C.PURPLE_DARK);
            box(armL.graphics, 0, 16, 12, 12, C.METAL); // Garra base
            armL.graphics.beginFill(C.CYAN);
            armL.graphics.drawRect(4, 20, 4, 4); // Luz da garra
            armL.x = 0; armL.y = 20;
            container.addChild(armL);
            this.armL = armL;

            // Braço Direito (fixo por enquanto)
            box(g, 48, 20, 10, 24, C.PURPLE_DARK);

          } else if (type === 'brain') {
            // ROBÔ "CÉREBRO" (Laranja, Vidro, Tripé) - Ref 2

            // Pernas (Tripé Fino)
            g.lineStyle(4, C.METAL_DARK);
            g.moveTo(20, 40); g.lineTo(15, 55);
            g.moveTo(40, 40); g.lineTo(45, 55);
            g.moveTo(30, 40); g.lineTo(30, 50);
            g.lineStyle(0);
            
            // Corpo (Esférico/Ovoide)
            g.beginFill(C.BLACK); g.drawCircle(30, 30, 16);
            g.beginFill(C.ORANGE); g.drawCircle(30, 30, 14);

            // Cúpula de Vidro (parte da cabeça)
            const dome = new PIXI.Graphics();
            dome.beginFill(C.CYAN, 0.4);
            dome.drawEllipse(0, 0, 10, 8);
            dome.x = 30; dome.y = 14;
            // Cérebro Rosa (brilhante)
            const brainGlow = new PIXI.Graphics();
            brainGlow.beginFill(0xff88aa);
            brainGlow.drawEllipse(0, 0, 6, 4);
            brainGlow.x = 0; brainGlow.y = 2; // Dentro da cúpula
            dome.addChild(brainGlow);
            g.addChild(dome);
            this.brainGlow = brainGlow; // Para animar brilho

            // Olho Grande (Ciclope)
            g.beginFill(C.WHITE);
            g.drawCircle(30, 30, 6);
            g.beginFill(C.BLACK);
            g.drawCircle(30, 30, 2);

            // Antena (animada)
            const antenna = new PIXI.Graphics();
            antenna.beginFill(C.METAL);
            antenna.drawRect(0, 0, 2, 10);
            antenna.beginFill(C.RED);
            antenna.drawCircle(1, 0, 2);
            antenna.x = 40; antenna.y = 10;
            antenna.pivot.y = 10; // Ponto de rotação na base
            container.addChild(antenna);
            this.antenna = antenna;

          } else if (type === 'monitor') {
            // ROBÔ "MONITOR" (Cabeça TV, Esteira) - Ref 3

            // Esteira (Rodas)
            box(g, 15, 45, 30, 10, C.METAL_DARK);
            g.beginFill(C.BLACK);
            g.drawCircle(20, 50, 3);
            g.drawCircle(30, 50, 3);
            g.drawCircle(40, 50, 3);

            // Pescoço
            box(g, 26, 35, 8, 10, C.METAL);

            // Cabeça (Monitor CRT) - Parte animada
            const monitorHead = new PIXI.Container();
            box(monitorHead.graphics, 0, 0, 30, 20, C.METAL_LIGHT);
            box(monitorHead.graphics, 3, 3, 24, 14, C.BLACK); // Tela
            
            // Rosto Digital (animação na tela)
            const face = new PIXI.Graphics();
            face.beginFill(C.CYAN);
            face.drawRect(0, 0, 4, 4); // Olho E
            face.drawRect(12, 0, 4, 4); // Olho D
            face.drawRect(4, 6, 8, 2); // Boca
            face.x = 22; face.y = 22;
            monitorHead.addChild(face);
            this.monitorFace = face;

            monitorHead.x = 15; monitorHead.y = 15;
            container.addChild(monitorHead);
            this.monitorHead = monitorHead; // Para animar rotação/inclinação

            // Braços Finos
            const armL = new PIXI.Graphics();
            armL.lineStyle(3, C.METAL_DARK);
            armL.moveTo(0, 0); armL.lineTo(-10, -5);
            armL.x = 15; armL.y = 40;
            container.addChild(armL);
            this.armL = armL;

            const armR = new PIXI.Graphics();
            armR.lineStyle(3, C.METAL_DARK);
            armR.moveTo(0, 0); armR.lineTo(10, -5);
            armR.x = 45; armR.y = 40;
            container.addChild(armR);
            this.armR = armR;

          } else if (type === 'janitor') {
            // JANITOR BOT (Vassoura) - Novo Robô

            // Corpo Pequeno
            box(g, 10, 10, 20, 16, C.METAL);
            // Olho Simples
            g.beginFill(C.BLACK); g.drawRect(15, 14, 10, 4);
            g.beginFill(C.YELLOW); g.drawRect(17, 15, 6, 2);

            // Pernas (rodas ou pequenas esteiras)
            box(g, 12, 26, 8, 4, C.METAL_DARK);
            box(g, 20, 26, 8, 4, C.METAL_DARK);

            // Vassoura (animada)
            const broom = new PIXI.Container();
            // Cabo
            broom.graphics.lineStyle(2, C.METAL);
            broom.graphics.moveTo(0, 0); broom.graphics.lineTo(0, 15);
            // Cerdas
            broom.graphics.beginFill(0x8B4513);
            broom.graphics.drawRect(-4, 15, 8, 5);
            broom.x = 25; broom.y = 15;
            broom.pivot.x = 0; broom.pivot.y = 0; // Ponto de rotação
            container.addChild(broom);
            this.broom = broom;

          } else if (type === 'drone') {
            // DRONE (Conector de Fio) - Novo Robô
            
            // Corpo Esférico
            g.beginFill(C.METAL_DARK); g.drawCircle(20, 20, 10);
            g.beginFill(C.METAL); g.drawCircle(20, 20, 8);
            // Hélice
            g.beginFill(C.BLACK); g.drawEllipse(20, 10, 15, 2); // Eixo
            g.beginFill(C.METAL); g.drawRect(10, 9, 20, 2); // Lâmina
            // Olho
            g.beginFill(C.CYAN); g.drawCircle(20, 20, 3);

            // Garra de Fio (animada)
            const claw = new PIXI.Graphics();
            claw.beginFill(C.METAL);
            claw.drawRect(0, 0, 2, 8);
            claw.x = 20; claw.y = 28;
            claw.pivot.x = 1; claw.pivot.y = 0;
            container.addChild(claw);
            this.claw = claw;

          }
          return container;
        }

        // ============================================
        // 2. ENTIDADES (Comportamento & Animação)
        // ============================================
        class GenericRobot {
          constructor(type, x, y, scale=1) {
            this.container = new PIXI.Container();
            this.container.x = x;
            this.container.y = y;

            // Sombra (sempre abaixo do sprite)
            const shadow = new PIXI.Graphics();
            shadow.beginFill(0x000000, 0.4);
            shadow.drawEllipse(30 * scale, 60 * scale, 20 * scale, 6 * scale);
            shadow.endFill();
            this.container.addChild(shadow);

            this.sprite = createRobotSprite(type, scale);
            this.sprite.pivot.set(30, 58); //
