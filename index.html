<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>LoL Performance AI - Research Lab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- LIBRARIES -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.3.2/pixi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Rajdhani:wght@600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      /* =========================================
         CORE STYLE (Industrial Retro Refined)
         ========================================= */
      :root {
        --bg-dark: #0a0a0a;
        --text-main: #dcdacb;
        --accent-green: #44d65c;
        --accent-gold: #ffcd75;
        --accent-red: #e53b44;
        --metal-dark: #1a1c2c;
        --metal-plate: #3e2b22; 
        --paper-bg: #dcdacb;     
        --monitor-bg: #05080a;   
        --ui-shadow: 6px 6px 0 rgba(0,0,0,0.8); 
      }

      * { box-sizing: border-box; }

      body {
        margin: 0;
        padding: 0;
        background-color: var(--bg-dark);
        font-family: "Press Start 2P", cursive;
        color: var(--text-main);
        overflow: hidden;
        height: 100vh;
        width: 100vw;
      }

      /* CAMADAS VISUAIS */

      /* 1. A TORRE (Fundo Fixo) */
      .layer-structure {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background-image: url('assets/lab-base.png'), url('lab-base.png'), url('assets/lab-base.jpg');
        background-position: center bottom;
        background-size: cover;
        background-repeat: no-repeat;
        image-rendering: pixelated; 
        z-index: 0;
      }

      /* 2. SIMULAÇÃO (PixiJS - Robôs e Fumaça) */
      #game-stage {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        z-index: 1;
        pointer-events: none;
      }

      /* 3. UI INTERFACE */
      #ui-layer {
        position: relative;
        z-index: 10;
        width: 100%; height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-between; 
        padding: 2vh 2vw;
        pointer-events: none;
        background: radial-gradient(circle, transparent 60%, rgba(0,0,0,0.5) 100%);
      }

      .interactive { pointer-events: auto; }

      /* =========================================
         UI COMPONENTS (Refined Industrial)
         ========================================= */
      
      /* PLACA (Signboard) */
      .sign-container {
        margin-top: 15px;
        animation: floatSign 5s ease-in-out infinite;
        position: relative;
      }
      .sign-container::before, .sign-container::after {
        content: ""; position: absolute; top: -100vh; width: 4px; height: 100vh;
        background: #222; border-left: 2px solid #000; z-index: -1;
      }
      .sign-container::before { left: 15px; transform: rotate(1deg); }
      .sign-container::after { right: 15px; transform: rotate(-1deg); }

      .sign-board {
        background: linear-gradient(160deg, #d64531 0%, #d64531 70%, #4a6b8a 85%, #2f4050 100%);
        border: 4px solid #1a1c2c;      
        padding: 12px 24px;
        box-shadow: var(--ui-shadow);
        text-align: center;
        position: relative;
      }
      
      .sign-board::before, .sign-board::after {
        content: "+"; position: absolute; top: 2px; color: #111; font-size: 10px;
      }
      .sign-board::before { left: 5px; } .sign-board::after { right: 5px; }

      .sign-title {
        font-size: 0.95rem; color: #fff; 
        text-shadow: 2px 2px 0 #3e1010; 
        margin: 0; text-transform: uppercase; letter-spacing: 1px;
      }
      .sign-sub {
        font-size: 0.5rem; color: var(--accent-gold); display: block; margin-top: 6px; letter-spacing: 1px; background: rgba(0,0,0,0.3); padding: 3px 8px; border-radius: 4px;
      }

      /* MONITOR (CRT Screen) */
      .monitor-wrapper {
        background: #222;
        padding: 8px;
        border-radius: 4px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.9);
        width: 100%; max-width: 680px;
        position: relative;
        border: 3px solid #111;
        margin-top: 10px;
      }
      .monitor-wrapper::before {
        content:""; position:absolute; top:100%; left:50%; width:90%; height:10px;
        background: #000; opacity:0.6; filter:blur(8px); transform:translateX(-50%); 
      }
      
      .crt-screen {
        background: var(--monitor-bg);
        border: 2px solid #444;
        height: 150px;
        padding: 15px;
        overflow: hidden;
        position: relative;
        color: var(--accent-green);
        font-size: 0.55rem; 
        line-height: 1.5;
        text-shadow: 0 0 2px rgba(68, 214, 92, 0.5);
        white-space: pre-wrap; 
      }

      .crt-screen::after {
        content: ""; position: absolute; inset: 0;
        background: repeating-linear-gradient(0deg, rgba(0,0,0,0.1), rgba(0,0,0,0.1) 1px, transparent 1px, transparent 2px);
        pointer-events: none;
      }

      /* GRIDS DE INFORMAÇÃO */
      .deck-grid {
        display: flex; justify-content: center; gap: 20px; width: 100%; max-width: 750px;
      }
      
      .clipboard {
        background: var(--paper-bg); 
        color: #1a1c2c;
        padding: 12px;
        position: relative;
        box-shadow: var(--ui-shadow);
        border: 2px solid #555;
        flex: 1;
        display: flex; flex-direction: column;
      }

      .clipboard::before {
        content: ""; position: absolute; top: -8px; left: 50%; transform: translateX(-50%);
        width: 40px; height: 12px; background: #555; border: 2px solid #222; border-radius: 2px;
      }

      .clip-title {
        background: #222; color: #fff; padding: 5px; text-align: center; font-size: 0.55rem; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px;
      }

      .clip-content { flex-grow: 1; }
      .clip-content ul {
        list-style: none; padding: 0; margin: 0; font-family: "Rajdhani", sans-serif; font-weight: 700; font-size: 0.75rem; 
        line-height: 1.3;
      }
      .clip-content li { margin-bottom: 4px; padding-left: 12px; position: relative; }
      .clip-content li::before { content: "►"; color: var(--accent-red); font-size: 0.5rem; position: absolute; left: 0; top: 3px; }

      /* RODAPÉ */
      .cargo-crate {
        background: #4a3c31; 
        border: 3px solid #2e221b;
        padding: 12px;
        width: 100%; max-width: 650px;
        text-align: center;
        position: relative;
        box-shadow: var(--ui-shadow);
        margin-bottom: 15px;
      }
      .cargo-crate::after {
        content: ""; position: absolute; bottom: 0; left: 0; width: 100%; height: 6px;
        background: repeating-linear-gradient(-45deg, #ffcd75, #ffcd75 10px, #222 10px, #222 20px);
      }

      .legal-text {
        font-family: "Rajdhani", sans-serif; font-weight: 600; font-size: 0.7rem; color: #cbbfae; margin-bottom: 8px; line-height: 1.2;
      }

      .btn-pixel {
        display: inline-block; background: var(--accent-gold); color: #000; text-decoration: none;
        padding: 6px 14px; border: 2px solid #000; box-shadow: 2px 2px 0 #000; font-size: 0.55rem; font-weight: bold;
        transition: transform 0.1s;
      }
      .btn-pixel:active { transform: translate(1px, 1px); box-shadow: 0px 0px 0 #000; }

      @keyframes floatSign { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(3px); } }
      .cursor { display: inline-block; width: 5px; height: 10px; background: var(--accent-green); animation: blink 1s infinite; vertical-align: middle; }
      @keyframes blink { 50% { opacity: 0; } }

      @media (max-width: 768px) {
        #ui-layer { height: auto; overflow-y: auto; padding-top: 50px; }
        .deck-grid { flex-direction: column; }
        .monitor-wrapper, .cargo-crate { width: 95%; }
      }
    </style>
  </head>
  <body>

    <div class="layer-structure"></div>
    <div id="game-stage"></div>

    <div id="ui-layer">
      
      <header class="sign-container interactive">
        <div class="sign-board">
          <h1 class="sign-title">LOL PERFORMANCE</h1>
          <span class="sign-sub">AI MASTER'S DISSERTATION</span>
        </div>
      </header>

      <main class="monitor-wrapper interactive">
        <div class="crt-screen" id="console-output"></div>
      </main>

      <section class="deck-grid">
        <article class="clipboard interactive">
          <div class="clip-title">PROJECT GOALS</div>
          <div class="clip-content">
            <ul>
              <li>Collect historical ranked match data (Riot API).</li>
              <li>Build structured datasets (gold, XP, objectives).</li>
              <li>Train predictive models (Deep Learning).</li>
              <li>Produce aggregated statistics for analysis.</li>
            </ul>
          </div>
        </article>

        <article class="clipboard interactive" style="background: #d3dce0;">
          <div class="clip-title">TECH & ETHICS</div>
          <div class="clip-content">
            <ul>
              <li><strong>CORE:</strong> Python (Data Collection/Eng.)</li>
              <li><strong>ML:</strong> PyTorch & Scikit-Learn</li>
              <li><strong>DATA:</strong> Pandas / Jupyter Notebooks</li>
              <li><strong>API:</strong> Riot (match-v5, summoner-v4)</li>
            </ul>
            <hr style="border: 0; border-top: 1px dashed #555; margin: 8px 0;">
            <div style="font-size: 0.65rem; font-family: 'Rajdhani', sans-serif; line-height: 1.2; color: #444;">
              <strong>ETHICS:</strong> Non-commercial. Aggregate analysis. Individual players not profiled.
            </div>
          </div>
        </article>
      </section>

      <footer class="cargo-crate interactive">
        <p class="legal-text">
          This project isn’t endorsed by Riot Games and doesn’t reflect the views or opinions of Riot Games or anyone officially involved in producing or managing Riot Games properties. Riot Games and all associated properties are trademarks or registered trademarks of Riot Games, Inc.
        </p>
        <a href="https://github.com/HenryAiroso/Master-Degree-PPGCAP-LoLPerformance" target="_blank" class="btn-pixel">
          ACCESS REPOSITORY
        </a>
      </footer>
    </div>

    <script>
      (function() {
        // ============================================
        // CONFIGURAÇÃO DO PIXI.JS (Simulação)
        // ============================================
        const app = new PIXI.Application({
          backgroundAlpha: 0, 
          resizeTo: window,
          antialias: false,
          resolution: window.devicePixelRatio || 1,
        });
        document.getElementById('game-stage').appendChild(app.view);

        const world = new PIXI.Container();
        app.stage.addChild(world);

        // CORES
        const C = {
          ROBOT_BASE_LIGHT: 0xb0c4de, 
          ROBOT_BASE_DARK: 0x6a81a0,
          ROBOT_ORANGE: 0xd67831,
          ROBOT_BLUE_TECH: 0x4a90e2,
          ROBOT_SCREEN_CYAN: 0x00f3ff,
          ROBOT_SCREEN_RED: 0xff4555,
          METAL_LIGHT: 0xdddddd,
          METAL_DARK: 0x333333,
          WHITE: 0xffffff,
          BLACK: 0x000000
        };

        // ============================================
        // 1. SPRITE FACTORY (64x64 Creative Robots)
        // ============================================
        function createPixelBotTexture(type) {
          const g = new PIXI.Graphics();
          const p = 2; // Scale factor (2px per drawing unit -> 32x32 grid = 64x64 texture)

          const rect = (x, y, w, h, color, alpha=1) => {
            g.beginFill(color, alpha);
            g.drawRect(x*p, y*p, w*p, h*p);
            g.endFill();
          };

          if (type === 'drone') {
            // DRONE (Floating, round-ish, single eye)
            // Body
            rect(10, 10, 12, 10, C.ROBOT_BASE_DARK);
            rect(11, 11, 10, 8, C.ROBOT_BASE_LIGHT);
            
            // Propellers (Top)
            rect(6, 8, 20, 2, C.METAL_DARK);
            rect(4, 6, 4, 2, C.METAL_LIGHT); // Left prop
            rect(24, 6, 4, 2, C.METAL_LIGHT); // Right prop

            // Eye
            rect(14, 13, 4, 4, C.ROBOT_SCREEN_CYAN);
            rect(15, 14, 1, 1, C.WHITE);

            // Arms/Tools hanging
            rect(12, 20, 2, 4, C.METAL_DARK);
            rect(18, 20, 2, 4, C.METAL_DARK);

          } else if (type === 'worker') {
            // WORKER (Orange, boxy, tracks)
            // Tracks
            rect(8, 24, 16, 6, C.METAL_DARK);
            rect(10, 25, 12, 4, C.METAL_LIGHT);
            // Body
            rect(8, 12, 16, 12, C.ROBOT_ORANGE);
            // Shadow/Detail
            rect(8, 22, 16, 2, C.BLACK, 0.3);

            // Screen/Face
            rect(10, 14, 12, 5, C.BLACK);
            rect(12, 15, 8, 2, C.ROBOT_SCREEN_RED);

            // Arm (Holding something)
            rect(22, 16, 6, 2, C.METAL_LIGHT); // Arm extension
            rect(26, 14, 2, 6, C.METAL_DARK);  // Tool tip

          } else if (type === 'tech') {
            // TECH (Blue, tall, bipedal)
            // Legs
            rect(12, 22, 2, 8, C.METAL_DARK);
            rect(18, 22, 2, 8, C.METAL_DARK);
            rect(11, 30, 4, 2, C.METAL_LIGHT); // Feet
            rect(17, 30, 4, 2, C.METAL_LIGHT);

            // Body
            rect(10, 10, 12, 12, C.ROBOT_BLUE_TECH);
            // Detail
            rect(10, 16, 12, 2, C.ROBOT_BASE_DARK);

            // Head
            rect(12, 6, 8, 4, C.ROBOT_BASE_LIGHT);
            rect(13, 7, 6, 2, C.ROBOT_SCREEN_CYAN);

            // Antenna
            rect(18, 2, 1, 4, C.METAL_DARK);
          }
          
          return app.renderer.generateTexture(g);
        }

        const texDrone = createPixelBotTexture('drone');
        const texWorker = createPixelBotTexture('worker');
        const texTech = createPixelBotTexture('tech');

        // ============================================
        // 2. ENTIDADES
        // ============================================
        class Robot {
          constructor(texture, x, y, scale=1) {
            this.container = new PIXI.Container();
            this.container.x = x;
            this.container.y = y;

            // Shadow
            const shadow = new PIXI.Graphics();
            shadow.beginFill(0x000000, 0.4);
            shadow.drawEllipse(32*scale, 64*scale, 12*scale, 4*scale);
            shadow.endFill();
            this.container.addChild(shadow);

            this.sprite = new PIXI.Sprite(texture);
            this.sprite.scale.set(scale);
            this.container.addChild(this.sprite);
            
            world.addChild(this.container);
            
            this.homeX = x;
            this.homeY = y;
            this.walkTimer = Math.random() * 100;
            
            // Particle system for Worker
            this.sparks = [];
          }

          update(delta) {
            this.walkTimer += delta;
            // Bobbing
            this.sprite.y = Math.sin(this.walkTimer / 20) * 2;
          }

          walkTo(targetX) {
             const dx = targetX - this.container.x;
             if(Math.abs(dx) > 1) {
               const dir = Math.sign(dx);
               this.container.x += dir * 0.5;
               
               // Flip logic (pivot center adjustment)
               if(dir < 0) {
                 this.sprite.scale.x = -Math.abs(this.sprite.scale.x);
                 this.sprite.x = 64 * Math.abs(this.sprite.scale.y); // Adjust x pos when flipped
               } else {
                 this.sprite.scale.x = Math.abs(this.sprite.scale.x);
                 this.sprite.x = 0;
               }
             }
          }

          emitSpark() {
             const s = new PIXI.Graphics();
             s.beginFill(0xFFFF00);
             s.drawRect(0,0,2,2);
             s.endFill();
             s.x = this.container.x + 40;
             s.y = this.container.y + 20;
             world.addChild(s);
             gsap.to(s, {x: s.x + (Math.random()-0.5)*20, y: s.y + 20, alpha: 0, duration: 0.5, onComplete: ()=>s.destroy()});
          }
        }

        // ============================================
        // 3. POSICIONAMENTO
        // ============================================
        const W = window.innerWidth;
        const H = window.innerHeight;

        // Drone (Top Left - Hovering)
        const bot1 = new Robot(texDrone, W * 0.15, H * 0.15, 2);
        
        // Worker (Middle Right - Fixing Wall)
        const bot2 = new Robot(texWorker, W * 0.85, H * 0.50, 2);

        // Tech (Bottom Left - Walking)
        const bot3 = new Robot(texTech, W * 0.10, H * 0.75, 2);

        // ============================================
        // 4. LOOP
        // ============================================
        app.ticker.add((delta) => {
          
          // Bot 1: Hover
          bot1.update(delta);
          bot1.container.y = (H * 0.15) + Math.sin(Date.now()/1000)*10;

          // Bot 2: Fixing (Sparks)
          bot2.update(delta);
          if(Math.random() < 0.05) bot2.emitSpark();

          // Bot 3: Patrol
          bot3.update(delta);
          const target = W * 0.10 + Math.cos(Date.now()/3000) * 100;
          bot3.walkTo(target);

        });

      })();

      // --- UI TYPEWRITER ---
      (function() {
        const text = `> SYSTEM READY.\n> LOADING: Master's Dissertation\n> SUBJECT: LoL Performance AI (Applied Computing)\n\nANALYSIS: Matches analyzed via Machine Learning to model player/team performance over time.`;
        const el = document.getElementById('console-output');
        let i = 0;
        function type() {
          if(i < text.length) {
            const c = text.charAt(i);
            el.innerHTML += c === '\n' ? '<br>' : c;
            i++; setTimeout(type, 30);
          } else {
            el.innerHTML += '<span class="cursor"></span>';
          }
        }
        setTimeout(type, 800);
      })();
    </script>
  </body>
</html>
